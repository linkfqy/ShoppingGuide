"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[796],{5796:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%"}},[s("el-container",{staticStyle:{height:"100%"}},[s("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)",height:"100%"},attrs:{width:e.sideWidth+"px"}},[s("Aside",{attrs:{"is-collapse":e.isCollapse}})],1),s("el-container",[s("el-header",{staticStyle:{"border-bottom":"1px solid #ccc","background-color":"aliceblue",height:"80px"}},[s("Header",{attrs:{"collapse-icon":e.collapseIcon,"collapse-title":e.collapseTitle,user:e.user},on:{collapse:e.handleCollapse}})],1),s("el-main",{class:{bk:"/manage/home"==e.$route.path}},[s("router-view",{on:{refresh:e.getUser}})],1)],1)],1)],1)},a=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{staticStyle:{height:"100%"},attrs:{"default-openeds":["2","good"],"background-color":"rgb(48,65,86)","text-color":"#fff","collapse-transition":!1,collapse:e.isCollapse,router:""}},[i("div",{staticStyle:{height:"60px","margin-left":"30px","line-height":"60px"}},[i("router-link",{attrs:{to:"/manage/home"}},[i("img",{staticStyle:{width:"32px",position:"relative",top:"7px",right:"6px"},attrs:{src:s(6314)}})]),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticStyle:{color:"aliceblue","font-size":"20px"},attrs:{slot:"title"},slot:"title"},[e._v("在线商城后台管理")])],1),i("el-menu-item",{staticClass:"el-item-menu",staticStyle:{"font-size":"16px"},attrs:{index:"/manage/home"}},[i("i",{staticClass:"iconfont icon-r-home",staticStyle:{"font-size":"24px",color:"white"}}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 主页")])]),i("el-menu-item",{staticClass:"el-item-menu",staticStyle:{"font-size":"16px"},attrs:{index:"/"}},[i("i",{staticClass:"iconfont icon-r-mark1",staticStyle:{"font-size":"24px",color:"white"}}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 前台")])]),i("el-submenu",{staticStyle:{"font-size":"16px"},attrs:{index:"2"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont icon-r-setting",staticStyle:{"font-size":"24px",color:"white"}}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 系统管理")])]),i("el-submenu",{directives:[{name:"show",rawName:"v-show",value:e.userGroup,expression:"userGroup"}],staticClass:"el-item-menu",attrs:{index:"user"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont icon-r-user2",staticStyle:{"font-size":"24px",color:"white"}}),e._v(" 用户管理")]),e.menuFlags.userMenu?i("el-menu-item",{attrs:{index:"/manage/user"}},[e._v(" 用户管理")]):e._e()],2),e.fileGroup?i("el-submenu",{staticClass:"el-item-menu",staticStyle:{"font-size":"18px"},attrs:{index:"file"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont icon-r-paper",staticStyle:{"font-size":"24px",color:"white"}}),e._v(" 文件管理")]),e.menuFlags.fileMenu?i("el-menu-item",{attrs:{index:"/manage/file"}},[e._v("文件管理")]):e._e(),e.menuFlags.avatarMenu?i("el-menu-item",{attrs:{index:"/manage/avatar"}},[e._v("头像管理")]):e._e()],2):e._e(),e.GoodGroup?i("el-submenu",{staticClass:"el-item-menu",staticStyle:{"font-size":"18px"},attrs:{index:"good"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont icon-r-find",staticStyle:{"font-size":"24px",color:"white"}}),e._v(" 商品管理")]),e.menuFlags.categoryMenu?i("el-menu-item",{attrs:{index:"/manage/category"}},[e._v("商品分类管理")]):e._e(),e.menuFlags.carouselMenu?i("el-menu-item",{attrs:{index:"/manage/carousel"}},[e._v("轮播图管理")]):e._e(),e.menuFlags.goodMenu?i("el-menu-item",{attrs:{index:"/manage/good"}},[e._v("商品管理")]):e._e(),e.menuFlags.orderMenu?i("el-menu-item",{attrs:{index:"/manage/order"}},[e._v("订单管理")]):e._e()],2):e._e(),e.incomeGroup?i("el-submenu",{staticClass:"el-item-menu",staticStyle:{"font-size":"18px"},attrs:{index:"income"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont icon-r-shield",staticStyle:{"font-size":"24px",color:"white"}}),e._v(" 营收管理")]),e.menuFlags.incomeChartMenu?i("el-menu-item",{attrs:{index:"/manage/incomeChart"}},[e._v("图表分析")]):e._e(),e.menuFlags.incomeRankMenu?i("el-menu-item",{attrs:{index:"/manage/incomeRank"}},[e._v("收入排行榜")]):e._e()],2):e._e()],2)],1)},n=[],o=s(5972),r={name:"Aside",props:{isCollapse:Boolean},data(){return{role:"user",menuFlags:{userMenu:!1,fileMenu:!1,avatarMenu:!1,goodMenu:!1,carouselMenu:!1,orderMenu:!1,categoryMenu:!1,incomeChartMenu:!1,incomeRankMenu:!1}}},computed:{userGroup:function(){return this.menuFlags.userMenu},fileGroup:function(){return this.menuFlags.fileMenu||this.menuFlags.avatarMenu},GoodGroup:function(){return this.menuFlags.goodMenu||this.menuFlags.orderMenu||this.menuFlags.categoryMenu||this.menuFlags.carouselMenu},incomeGroup:function(){return this.menuFlags.incomeChartMenu||this.menuFlags.incomeRankMenu}},mounted(){},created(){o.Z.post("http://localhost:9191/role").then((e=>{"200"===e.code&&(this.role=e.data,console.log("asider，role："+this.role),"admin"===this.role?(this.menuFlags.userMenu=!0,this.menuFlags.fileMenu=!0,this.menuFlags.avatarMenu=!0,this.menuFlags.categoryMenu=!0,this.menuFlags.goodMenu=!0,this.menuFlags.carouselMenu=!0,this.menuFlags.orderMenu=!0,this.menuFlags.incomeChartMenu=!0,this.menuFlags.incomeRankMenu=!0):this.role,console.log(this.menuFlags))}))}},u=r,c=s(1001),m=(0,c.Z)(u,l,n,!1,null,"78065c5b",null),p=m.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex"}},[s("div",{staticStyle:{flex:"1"}},[s("span",{class:e.collapseIcon,staticStyle:{"font-size":"25px",cursor:"pointer"},attrs:{title:e.collapseTitle},on:{click:function(t){return e.$emit("collapse")}}}),s("span",{staticClass:"iconfont icon-r-left",staticStyle:{"font-size":"25px",cursor:"pointer","margin-left":"10px"},attrs:{title:"返回"},on:{click:e.back}}),s("el-breadcrumb",{staticStyle:{display:"inline-block","margin-left":"30px","font-size":"22px"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/manage/home"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.routePath))])],1)],1),s("el-dropdown",{staticStyle:{"margin-right":"40px",cursor:"pointer"}},[s("span",{staticClass:"el-dropdown-link"},[s("div",{staticStyle:{display:"inline-block","font-size":"22px","font-weight":"600"}},[s("img",{staticClass:"avatar",attrs:{src:e.baseApi+e.user.avatarUrl}}),e._v(" "+e._s(e.user.nickname)+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{"margin-right":"15px"}})])]),s("el-dropdown-menu",{staticStyle:{"text-align":"center"},attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{on:{click:function(t){return e.$router.push("/manage/person")}}},[e._v("个人信息")])]),s("el-dropdown-item",[s("div",{on:{click:e.logout}},[e._v("退出")])])],1)],1)],1)},d=[],g={name:"Header",props:{collapseIcon:String,collapseTitle:String,user:Object},methods:{logout(){localStorage.removeItem("user"),this.$router.push("/login"),this.$message.success("退出成功")},back(){this.$router.go(-1)}},data(){return{routePath:"",baseApi:this.$store.state.baseApi}},watch:{$route:function(){this.routePath=this.$route.meta.path}},created(){this.routePath=this.$route.meta.path}},f=g,x=(0,c.Z)(f,h,d,!1,null,"52f19060",null),v=x.exports,_={data(){return{user:{},isCollapse:!1,sideWidth:250,collapseIcon:"el-icon-s-fold",collapseTitle:"收缩"}},components:{Aside:p,Header:v},methods:{handleCollapse(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.sideWidth=64,this.collapseIcon="el-icon-s-unfold",this.collapseTitle="展开"):(this.sideWidth=250,this.collapseIcon="el-icon-s-fold",this.collapseTitle="收缩")},getUser(){let e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).username:"";e&&this.request.get("/userinfo/"+e).then((e=>{this.user=e.data,console.log(this.user.role)}))}},mounted(){},created(){this.getUser()}},y=_,M=(0,c.Z)(y,i,a,!1,null,null,null),S=M.exports},6314:function(e,t,s){e.exports=s.p+"img/logo.48bea8d2.png"}}]);
//# sourceMappingURL=796.11d1bce4.js.map