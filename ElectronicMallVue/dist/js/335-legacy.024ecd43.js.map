{"version":3,"file":"js/335-legacy.024ecd43.js","mappings":"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","sources":["webpack://vue/./src/views/manage/good/Goods.vue?01cb","webpack://vue/src/views/manage/good/Goods.vue","webpack://vue/./src/views/manage/good/Goods.vue?a72d","webpack://vue/./src/views/manage/good/Goods.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"padding\":\"5px 0\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.load.apply(null, arguments)}},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_c('i',{staticClass:\"el-input__icon iconfont icon-r-find\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})]),_c('br'),_c('el-button',{staticStyle:{\"margin\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.load}},[_c('i',{staticClass:\"iconfont icon-r-find\"}),_vm._v(\" 搜索 \")]),_c('el-button',{staticStyle:{\"margin\":\"5px\"},attrs:{\"type\":\"warning\"},on:{\"click\":_vm.reset}},[_c('i',{staticClass:\"iconfont icon-r-refresh\"}),_vm._v(\" 重置 \")]),_c('el-button',{staticStyle:{\"margin\":\"5px\",\"font-size\":\"18px\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.add}},[_c('i',{staticClass:\"iconfont icon-r-add\",staticStyle:{\"font-size\":\"22px\"}}),_vm._v(\" 新增 \")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"商品id\",\"width\":\"80px\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"90px\",\"height\":\"80px\"},attrs:{\"src\":_vm.baseApi + scope.row.imgs}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"商品描述\"}}),_c('el-table-column',{attrs:{\"prop\":\"discount\",\"label\":\"折扣\"}}),_c('el-table-column',{attrs:{\"prop\":\"sales\",\"label\":\"销量\"}}),_c('el-table-column',{attrs:{\"prop\":\"saleMoney\",\"label\":\"销售额（元)\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.createTime.replace(\" \",\"  \"))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"推荐\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.handleRecommend(scope.row)}},model:{value:(scope.row.recommend),callback:function ($$v) {_vm.$set(scope.row, \"recommend\", $$v)},expression:\"scope.row.recommend\"}})]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_c('i',{staticClass:\"el-icon-a-032\",staticStyle:{\"font-size\":\"22px\"}}),_vm._v(\" 修改 \")]),_c('el-popconfirm',{attrs:{\"title\":\"确定删除？\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_c('el-button',{staticStyle:{\"font-size\":\"18px\",\"margin-left\":\"10px\"},attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_c('i',{staticClass:\"iconfont icon-r-delete\",staticStyle:{\"font-size\":\"22px\"}}),_vm._v(\" 删除 \")])],1)]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"page-sizes\":[3, 5, 8, 10],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"信息\",\"visible\":_vm.dialogFormVisible,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.entity}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"label-width\":\"150px\"}},[_c('el-input',{staticStyle:{\"width\":\"80%\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.entity.name),callback:function ($$v) {_vm.$set(_vm.entity, \"name\", $$v)},expression:\"entity.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品描述\",\"label-width\":\"150px\"}},[_c('el-input',{staticStyle:{\"width\":\"80%\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.entity.description),callback:function ($$v) {_vm.$set(_vm.entity, \"description\", $$v)},expression:\"entity.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"折扣\",\"label-width\":\"150px\"}},[_c('el-input',{staticStyle:{\"width\":\"80%\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.entity.discount),callback:function ($$v) {_vm.$set(_vm.entity, \"discount\", $$v)},expression:\"entity.discount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类id\",\"label-width\":\"150px\"}},[_c('el-input',{staticStyle:{\"width\":\"80%\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.entity.categoryId),callback:function ($$v) {_vm.$set(_vm.entity, \"categoryId\", $$v)},expression:\"entity.categoryId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品图片\",\"label-width\":\"150px\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":_vm.baseApi + '/file/upload',\"file-list\":_vm.fileList,\"on-change\":_vm.handleChange,\"limit\":2,\"on-success\":_vm.handleImgSuccess,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"font-size\":\"20px\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_c('i',{staticClass:\"iconfont icon-r-left\",staticStyle:{\"font-size\":\"22px\"}}),_vm._v(\" 取消\")]),_c('el-button',{staticStyle:{\"font-size\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_c('i',{staticClass:\"iconfont icon-r-yes\",staticStyle:{\"font-size\":\"22px\"}}),_vm._v(\" 确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div style=\"padding: 5px 0\">\r\n      <el-input v-model=\"searchText\" @keyup.enter.native=\"load\" style=\"width: 200px\"> <i slot=\"prefix\" class=\"el-input__icon iconfont icon-r-find\"></i></el-input>\r\n      \r\n      <br>\r\n      <el-button @click=\"load\" type=\"primary\" style=\"margin: 5px\">\r\n        <i class=\"iconfont icon-r-find\"></i>\r\n        搜索\r\n      </el-button>\r\n      <el-button @click=\"reset\" type=\"warning\" style=\"margin: 5px\">\r\n        <i class=\"iconfont icon-r-refresh\"></i>\r\n        重置\r\n      </el-button>\r\n      <el-button @click=\"add\" type=\"success\" style=\"margin: 5px; font-size: 18px;\">\r\n        <i class=\"iconfont icon-r-add\" style=\"font-size: 22px;\"></i>\r\n        新增\r\n      </el-button>\r\n    </div>\r\n\r\n    <el-table :data=\"tableData\" border stripe style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"商品id\" width=\"80px\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"商品名称\"></el-table-column>\r\n      <el-table-column label=\"商品图片\" width=\"120px\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"baseApi + scope.row.imgs\" style=\"width: 90px;height: 80px\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"description\" label=\"商品描述\"></el-table-column>\r\n      <el-table-column prop=\"discount\" label=\"折扣\"></el-table-column>\r\n      <el-table-column prop=\"sales\" label=\"销量\"></el-table-column>\r\n      <el-table-column prop=\"saleMoney\" label=\"销售额（元)\"></el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.createTime.replace(\" \",\"&nbsp;&nbsp;\")}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"推荐\" width=\"150\" >\r\n    <!--      推荐商品-->\r\n        <template slot-scope=\"scope\">\r\n          <el-switch\r\n              v-model=\"scope.row.recommend\"\r\n              @change=\"handleRecommend(scope.row)\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\">\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          width=\"250\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" style=\"font-size: 18px;\"  @click=\"edit(scope.row)\">\r\n            <i class=\"el-icon-a-032\" style=\"font-size: 22px;\"></i> 修改\r\n          </el-button>\r\n          <el-popconfirm\r\n              @confirm=\"del(scope.row.id)\"\r\n              title=\"确定删除？\"\r\n          >\r\n            <el-button type=\"danger\" slot=\"reference\" style=\"font-size: 18px;margin-left: 10px\">\r\n              <i class=\"iconfont icon-r-delete\" style=\"font-size: 22px;\"></i> 删除\r\n            </el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"margin-top: 10px\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageNum\"\r\n        :page-size=\"pageSize\"\r\n        :page-sizes=\"[3, 5, 8, 10]\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <!-- 弹窗   -->\r\n    <el-dialog title=\"信息\" :visible.sync=\"dialogFormVisible\" width=\"30%\"\r\n               :close-on-click-modal=\"false\">\r\n      <el-form :model=\"entity\">\r\n        <el-form-item label=\"商品名称\" label-width=\"150px\">\r\n          <el-input v-model=\"entity.name\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品描述\" label-width=\"150px\">\r\n          <el-input v-model=\"entity.description\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"折扣\" label-width=\"150px\">\r\n          <el-input v-model=\"entity.discount\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类id\" label-width=\"150px\">\r\n          <el-input v-model=\"entity.categoryId\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品图片\" label-width=\"150px\">\r\n          <el-upload\r\n              class=\"upload-demo\"\r\n              ref=\"upload\"\r\n              :action=\"baseApi + '/file/upload'\"\r\n              :file-list=\"fileList\"\r\n              :on-change=\"handleChange\"\r\n              :limit=\"2\"\r\n              :on-success=\"handleImgSuccess\"\r\n              :auto-upload=\"false\">\r\n            <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\r\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\" style=\"font-size: 20px;\"><i class=\"iconfont icon-r-left\" style=\"font-size: 22px;\"></i> 取消</el-button>\r\n        <el-button type=\"primary\" @click=\"save\" style=\"font-size: 20px;\"><i class=\"iconfont icon-r-yes\" style=\"font-size: 22px;\"></i> 确定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport API from '../../../utils/request'\r\nconst url = \"/api/good/\"\r\n\r\n\r\nexport default {\r\n  name: \"Goods\",\r\n  data() {\r\n    return {\r\n      baseApi: this.$store.state.baseApi,\r\n      fileList: [],\r\n      options: [],\r\n      searchText: '',\r\n      user: {},\r\n      tableData: [],\r\n      pageNum: 1,\r\n      pageSize: 5,\r\n      entity: {},\r\n      total: 0,\r\n      dialogFormVisible: false\r\n    };\r\n  },\r\n  created() {\r\n    this.user = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n    this.load()\r\n\r\n  },\r\n  methods: {\r\n\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n    handleRecommend(good){\r\n      API.get(url + \"recommend\", {\r\n        params: {\r\n          id: good.id,\r\n          isRecommend : good.recommend,\r\n        }\r\n      }).then(res => {\r\n        if(res.code==='200'){\r\n          this.$message.success(\"修改成功\")\r\n        }else{\r\n          this.$message.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n    load() {\r\n       API.get(url + \"fullPage\", {\r\n          params: {\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            searchText: this.searchText\r\n          }\r\n       }).then(res => {\r\n          this.tableData = res.data.records\r\n          this.total = res.data.total\r\n          \r\n       })\r\n    },\r\n    reset(){\r\n      this.searchText = '';\r\n      this.load()\r\n    },\r\n    add() {\r\n      // this.entity = {}\r\n      // this.fileList = []\r\n      // this.dialogFormVisible = true\r\n      this.$router.push(\"goodInfo\")\r\n    },\r\n    edit(obj) {\r\n      this.entity = JSON.parse(JSON.stringify(obj))\r\n      this.$router.push({name: 'goodInfo',query:{good: JSON.stringify(this.entity)}})\r\n    },\r\n    handleImgSuccess(res){\r\n      this.entity.imgs = res.data;\r\n      API.post(url, this.entity).then(res2 => {\r\n        if (res2.code === '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"操作成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res2.msg\r\n          })\r\n        }\r\n        this.load()\r\n        this.dialogFormVisible = false\r\n      })\r\n    },\r\n    save() {\r\n      console.log(this.fileList)\r\n      //上传图片\r\n      if(this.fileList.length!==0){\r\n        console.log('上传中')\r\n        this.$refs.upload.submit();\r\n      }else{\r\n        //不上传图片\r\n        console.log(this.entity)\r\n        API.post(url, this.entity).then(res2 => {\r\n          if (res2.code === '200') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"操作成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res2.msg\r\n            })\r\n          }\r\n          this.load()\r\n          this.dialogFormVisible = false\r\n        })\r\n      }\r\n    },\r\n    del(id) {\r\n      API.delete(url + id).then(res => {\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"操作成功\"\r\n        })\r\n        this.load()\r\n      })\r\n    },\r\n    handleChange(file, fileList){\r\n      this.fileList = fileList.slice(-3);\r\n    },\r\n\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=e4533b64&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4533b64\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","nativeOn","$event","type","indexOf","_k","keyCode","key","load","apply","arguments","model","value","callback","$$v","searchText","expression","staticClass","attrs","slot","on","_v","reset","add","tableData","scopedSlots","_u","fn","scope","baseApi","row","imgs","_s","createTime","replace","handleRecommend","$set","edit","del","id","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","dialogFormVisible","entity","ref","fileList","handleChange","handleImgSuccess","save","staticRenderFns","name","data","$store","state","options","user","created","localStorage","getItem","JSON","parse","methods","good","API","url","params","isRecommend","then","$router","push","obj","stringify","query","res","res2","code","message","msg","console","log","$refs","upload","submit","file","slice","component"],"sourceRoot":""}