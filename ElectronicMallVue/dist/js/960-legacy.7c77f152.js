(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[960],{9960:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{attrs:{data:t.tableData,"background-color":"black"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection"}}),n("el-table-column",{attrs:{label:"头像",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{attrs:{src:t.baseApi+e.row.url,"min-width":"100",height:"100"}})]}}])}),n("el-table-column",{attrs:{prop:"type",label:"文件类型",width:"180"}}),n("el-table-column",{attrs:{prop:"size",label:"文件大小",width:"180"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{href:t.baseApi+e.row.url}},[n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"success"}},[n("i",{staticClass:"el-icon-a-061",attrs:{stye:"font-size: 26px;"}}),t._v(" 下载 ")])],1),n("el-button",{staticStyle:{"margin-left":"10px","font-size":"18px"},attrs:{type:"danger"},on:{click:function(n){return t.handleDelete(e.row.id)}}},[n("i",{staticClass:"iconfont icon-r-delete",staticStyle:{"font-size":"22px"}}),t._v(" 删除 ")])]}}])})],1),n("div",{staticClass:"block",staticStyle:{flex:"0 0 auto"}},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[3,5,8,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentPage}})],1)],1)},r=[],o=n(7965),i=(n(6977),{name:"Avatar",created:function(){this.load()},data:function(){return{baseApi:this.$store.state.baseApi,tableData:[],total:0,pageSize:5,currentPage:1,multipleSelection:[]}},methods:{handleSizeChange:function(t){this.pageSize=t,this.load()},handleCurrentPage:function(t){this.currentPage=t,this.load()},handleSelectionChange:function(t){this.multipleSelection=t},load:function(){var t=this;this.request.get("/avatar/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize}}).then((function(e){if("200"===e.code){t.tableData=e.data.records;var n,a=(0,o.Z)(t.tableData);try{for(a.s();!(n=a.n()).done;){var r=n.value,i=r.size;r.size=i<1024?i+" Kb":i>1024&&i<1048576?(i/1024).toFixed(2)+" Mb":i/1024/1024..toFixed(2)+" Gb"}}catch(l){a.e(l)}finally{a.f()}t.total=e.data.total}}))},search:function(){this.currentPage=1,this.load()},handleDelete:function(t){var e=this;this.$confirm("确认删除该文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.request.delete("/avatar/"+t).then((function(t){"200"===t.code?(e.$message({type:"success",message:"删除成功",duration:3e3}),e.load()):e.$message.error(t.msg)}))}))}}}),l=i,s=n(1001),c=(0,s.Z)(l,a,r,!1,null,"fa7eb35c",null),u=c.exports},1038:function(t,e,n){var a=n(2109),r=n(8457),o=n(7072),i=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:r})},7965:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703),n(7042),n(8309),n(1038),n(4916),n(7601);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function r(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){s=!0,i=t},f:function(){try{l||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}}}]);
//# sourceMappingURL=960-legacy.7c77f152.js.map