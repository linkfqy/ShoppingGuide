"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[61],{4061:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list",staticStyle:{width:"55%",height:"100%",margin:"20px auto"}},[0===t.orders.length?r("div",{staticClass:"empty-box"},[r("span",{staticStyle:{"font-family":"华文彩云","font-size":"40px"}},[t._v("没有订单记录")])]):t._e(),t._l(t.orders,(function(t){return[r("order-item",{key:t.id,staticStyle:{"margin-bottom":"5px"},attrs:{order:t}})]}))],2)},o=[],i=(r(4916),r(5306),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"header",staticStyle:{"padding-left":"25px"}},[r("span",{staticStyle:{"line-height":"40px"}},[r("b",[t._v(t._s(t.order.create_time))])]),r("span",{staticStyle:{"line-height":"40px","margin-left":"30px"}},[r("b",[t._v("订单编号： "+t._s(t.order.order_no))])])]),r("div",{staticClass:"body"},[r("div",{staticStyle:{display:"inline-block"}},[r("router-link",{attrs:{to:"goodview/"+t.order.good_id}},[r("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.baseApi+t.order.imgs}})])],1),r("div",{staticStyle:{display:"inline-block","line-height":"40px"}},[r("table",[t._m(0),r("tr",[r("a",{attrs:{href:"goodview/"+t.order.good_id}},[r("td",[t._v(t._s(t.order.good_name))])]),r("td",[t._v(t._s(t.order.standard))]),r("td",[t._v(t._s(t.order.count))]),r("td",[t._v(t._s(t.order.total_price))]),r("el-popover",{attrs:{placement:"bottom-start",width:"200",trigger:"hover",content:t.address}},[r("td",{staticStyle:{color:"#42b983"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.order.link_user))])]),"已发货"===t.order.state?[r("td",{staticStyle:{color:"#42b983"}},[t._v(t._s(t.order.state))]),r("td",[r("el-button",{staticStyle:{"margin-left":"20px","font-size":"15px"},attrs:{type:"primary"},on:{click:t.receive}},[t._v("确认收货")])],1)]:"已收货"===t.order.state?[r("td",{staticStyle:{color:"#42b983"}},[r("a",{staticClass:"el-icon-check"}),t._v(t._s(t.order.state))])]:"已支付"===t.order.state?[r("td",{staticStyle:{color:"#3b62f8"}},[t._v(" "+t._s(t.order.state))]),r("td",[r("el-button",{staticStyle:{"font-size":"15px"},attrs:{type:"info",plain:"",disabled:""}},[t._v("等待发货")])],1)]:[r("td",[t._v(t._s(t.order.state))]),r("td",[r("el-button",{staticStyle:{"margin-left":"20px","font-size":"15px"},attrs:{type:"success"},on:{click:t.pay}},[t._v("去支付")])],1)]],2)])])])])}),a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("th",[t._v("商品")]),r("th",[t._v("规格")]),r("th",[t._v("数量")]),r("th",[t._v("总价")]),r("th",[t._v("收货人")]),r("th",[t._v("订单状态")])])}],n={name:"OrderItem",props:{order:Object},created:function(){console.log(this.order)},data:function(){return{address:"电话:"+this.order.link_phone+" 地址:"+this.order.link_address,baseApi:this.$store.state.baseApi}},methods:{pay:function(){this.$router.push({path:"pay",query:{money:this.order.total_price,orderNo:this.order.order_no}})},receive:function(){var t=this;this.$confirm("是否确认收货?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then((function(){t.request.get("/api/order/received/"+t.order.order_no).then((function(e){"200"===e.code&&(t.$message.success("收货成功"),t.order.state="已收货")}))}))}}},d=n,c=r(1001),l=(0,c.Z)(d,i,a,!1,null,"1a0d885f",null),_=l.exports,p=r(5972),u={name:"OrderList",components:{"order-item":_},data:function(){return{orders:{}}},created:function(){var t=this;p.Z.get("/userid").then((function(e){p.Z.get("/api/order/userid/"+e).then((function(e){if("200"===e.code){t.orders=e.data;for(var r=0;r<t.orders.length;++r)t.orders[r].create_time=t.orders[r].create_time.toLocaleString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")}}))}))}},h=u,v=(0,c.Z)(h,s,o,!1,null,"1a7ad949",null),f=v.exports}}]);
//# sourceMappingURL=61-legacy.7b048907.js.map