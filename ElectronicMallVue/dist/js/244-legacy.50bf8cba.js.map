{"version":3,"file":"js/244-legacy.50bf8cba.js","mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,GAAG,CAAC,YAAYN,EAAIO,aAAaC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACT,EAAG,MAAM,CAACU,YAAY,CAAC,QAAU,eAAe,cAAc,OAAO,aAAa,OAAO,cAAc,OAAO,YAAY,OAAO,MAAQ,UAAU,OAAS,sBAAsB,gBAAgB,OAAO,QAAU,QAAQC,MAAM,CAAC,GAAK,aAAa,CAACX,EAAG,IAAI,CAACY,YAAY,sBAAsBF,YAAY,CAAC,YAAY,UAAUd,EAAIiB,GAAG,QAAQjB,EAAIkB,GAAGlB,EAAImB,GAAG,YAAPnB,CAAoBA,EAAIoB,WAAWhB,EAAG,cAAc,CAACW,MAAM,CAAC,MAAQ,UAAU,KAAO,QAAQ,CAACX,EAAG,MAAM,CAACU,YAAY,CAAC,MAAQ,SAAS,OAAS,QAAQ,OAAS,aAAaC,MAAM,CAAC,GAAK,WAAWX,EAAG,cAAc,CAACW,MAAM,CAAC,MAAQ,SAAS,KAAO,QAAQ,CAACX,EAAG,MAAM,CAACU,YAAY,CAAC,MAAQ,QAAQ,OAAS,QAAQ,OAAS,aAAaC,MAAM,CAAC,GAAK,WAAWX,EAAG,cAAc,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACX,EAAG,MAAM,CAACU,YAAY,CAAC,MAAQ,QAAQ,OAAS,QAAQ,OAAS,aAAaC,MAAM,CAAC,GAAK,gBAAgBX,EAAG,cAAc,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACX,EAAG,MAAM,CAACU,YAAY,CAAC,MAAQ,SAAS,OAAS,QAAQ,OAAS,aAAaC,MAAM,CAAC,GAAK,kBAAkB,IAAI,IACrwCM,EAAkB,G,4DCqDtB,GACEC,KAAM,cACNC,KAFF,WAGI,MAAO,CACLC,UAAW,EACXC,gBAAiB,GACjBC,cAAe,GACfC,QAAS,GACTf,WAAY,MACZgB,SAAU,EACVC,UAAW,EACXC,WAAY,EACZV,MAAO,IAGXW,QAAS,CACPxB,YADJ,SACAyB,GACM,OAAQA,EAAIV,MACV,IAAK,MACHrB,KAAKmB,MAAQnB,KAAK2B,SAClB,MACF,IAAK,MACH3B,KAAKmB,MAAQnB,KAAK2B,SAClB,MACF,IAAK,QACH3B,KAAKmB,MAAQnB,KAAK4B,UAClB,MACF,IAAK,QACH5B,KAAKmB,MAAQnB,KAAK6B,WAClB,SAKRG,QAlCF,WAkCA,WACQC,EAAWC,EAAA,GAAaC,SAASC,eAAe,QAChDC,EAAWH,EAAA,GAAaC,SAASC,eAAe,QAChDE,EAAaJ,EAAA,GAAaC,SAASC,eAAe,aAClDG,EAAaL,EAAA,GAAaC,SAASC,eAAe,cAClDI,EAAY,CACdC,QAAS,CACPC,QAAS,QAEXC,MAAO,CACLC,KAAM,UACNC,EAAG,UAELC,MAAO,CACLC,MAAM,EACNC,SAAU,OAEZC,MAAO,CACLC,KAAM,WACN5B,KAAM,IAER6B,MAAO,CACLD,KAAM,SAERE,OAAQ,CACd,CACQ,KAAR9B,GACQ,KAAR4B,SAIQG,EAAY,CACdZ,QAAS,CACPC,QAAS,QAGXC,MAAO,CACLC,KAAM,SACNC,EAAG,UAELO,OAAQ,CACd,CACQ,KAARF,MACQ,KAAR5B,MAIQgC,EAAc,CAChBb,QAAS,CACPC,QAAS,QAEXI,MAAO,CACLC,MAAM,GAERJ,MAAO,CACLC,KAAM,OACNC,EAAG,UAELI,MAAO,CACLC,KAAM,WACN5B,KAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAE7C6B,MAAO,CACLD,KAAM,SAERE,OAAQ,CACd,CACQ,KAAR9B,GACQ,KAAR4B,UAIQK,EAAc,CAChBd,QAAS,CACPC,QAAS,QAEXI,MAAO,CACLC,MAAM,GAERJ,MAAO,CACLC,KAAM,OACNC,EAAG,UAELI,MAAO,CACLC,KAAM,WACN5B,KAAM,IAER6B,MAAO,CACLD,KAAM,SAERE,OAAQ,CACd,CACQ,KAAR9B,GACQ,KAAR4B,UAKIlD,KAAKwD,QAAQC,IAAI,qBAAqBC,MAAK,SAA/C,GACM,GAAiB,QAAbC,EAAIC,KAAgB,CACtB,IAAR,yBACA,qBACU,OAAOC,EAAKC,gBAEtB,qBACU,OAAOD,EAAKE,kBAEdvB,EAAUS,MAAM3B,KAAOG,EACvBe,EAAUY,OAAO,GAAG9B,KAAOI,EAC3BO,EAAS+B,UAAUxB,GAEnB,IAAK,IAAb,oBACU,IAAV,GAAAhC,MAAAA,EAAAA,GAAAa,KAAAA,EAAAA,IACUgC,EAAUD,OAAO,GAAG9B,KAAK2C,KAAKJ,GAEhCxB,EAAS2B,UAAUX,GAEnB,IAAR,IACQ3B,EAAQwC,SAAQ,SAAxBxC,GACUyC,GAAON,KAET,EAAR,QACQ,EAAR,eAII7D,KAAKwD,QAAQC,IAAI,oBAAoBC,MAAK,SAA9C,GACM,GAAiB,QAAbC,EAAIC,KAAgB,CAEtB,IAAR,oBACQN,EAAYF,OAAO,GAAG9B,KAAO8C,EAC7B9B,EAAW0B,UAAUV,GAErB,IAAR,IACQc,EAAWF,SAAQ,SAA3BE,GACUD,GAAON,KAET,EAAR,gBAII7D,KAAKwD,QAAQC,IAAI,qBAAqBC,MAAK,SAA/C,GACM,GAAiB,QAAbC,EAAIC,KAAgB,CACtBL,EAAYN,MAAM3B,KAAOqC,EAAIrC,KAAK+C,UAClC,IAAR,qBACQd,EAAYH,OAAO,GAAG9B,KAAOgD,EAC7B/B,EAAWyB,UAAUT,GAErB,IAAR,IACQe,EAAYJ,SAAQ,SAA5BI,GACUH,GAAON,KAET,EAAR,kBAKEU,QAAS,CACPC,UADJ,SACAhE,GAGM,IAAN,uBAIM,OAAOiE,OAAOC,MC7PqQ,I,UCOrRC,GAAY,OACd,EACA7E,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAeuD,EAAiB","sources":["webpack://vue/./src/views/manage/income/IncomeChart.vue?9e93","webpack://vue/src/views/manage/income/IncomeChart.vue","webpack://vue/./src/views/manage/income/IncomeChart.vue?1b6d","webpack://vue/./src/views/manage/income/IncomeChart.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"50px\",\"margin-top\":\"30px\",\"font-weight\":\"bold\",\"font-size\":\"22px\",\"color\":\"#ffb02a\",\"border\":\"1px lightgrey solid\",\"border-radius\":\"10px\",\"padding\":\"20px\"},attrs:{\"id\":\"chartSum\"}},[_c('i',{staticClass:\"iconfont icon-r-add\",staticStyle:{\"font-size\":\"32px\"}}),_vm._v(\" 总计：￥\"+_vm._s(_vm._f(\"numFilter\")(_vm.total)))]),_c('el-tab-pane',{attrs:{\"label\":\"各类收入柱状图\",\"name\":\"bar\"}},[_c('div',{staticStyle:{\"width\":\"1200px\",\"height\":\"500px\",\"margin\":\"auto auto\"},attrs:{\"id\":\"bar\"}})]),_c('el-tab-pane',{attrs:{\"label\":\"各类收入饼图\",\"name\":\"pie\"}},[_c('div',{staticStyle:{\"width\":\"600px\",\"height\":\"600px\",\"margin\":\"10px auto\"},attrs:{\"id\":\"pie\"}})]),_c('el-tab-pane',{attrs:{\"label\":\"本周收入\",\"name\":\"line1\"}},[_c('div',{staticStyle:{\"width\":\"900px\",\"height\":\"500px\",\"margin\":\"10px auto\"},attrs:{\"id\":\"weekLine\"}})]),_c('el-tab-pane',{attrs:{\"label\":\"本月收入\",\"name\":\"line2\"}},[_c('div',{staticStyle:{\"width\":\"1500px\",\"height\":\"500px\",\"margin\":\"10px auto\"},attrs:{\"id\":\"monthLine\"}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <div\r\n        id=\"chartSum\"\r\n        style=\"\r\n          display: inline-block;\r\n          margin-left: 50px;\r\n          margin-top: 30px;\r\n          font-weight: bold;\r\n          font-size: 22px;\r\n          color: #ffb02a;\r\n          border: 1px lightgrey solid;\r\n          border-radius: 10px;\r\n          padding: 20px;\r\n        \"\r\n        \r\n        ><i class=\"iconfont icon-r-add\" style=\"font-size: 32px;\"></i> 总计：￥{{ total | numFilter }}</div\r\n      >\r\n      <!--      柱状图-->\r\n      <el-tab-pane label=\"各类收入柱状图\" name=\"bar\">\r\n        <div\r\n          id=\"bar\"\r\n          style=\"width: 1200px; height: 500px; margin: auto auto\"\r\n        ></div>\r\n      </el-tab-pane>\r\n      <!--      饼图-->\r\n      <el-tab-pane label=\"各类收入饼图\" name=\"pie\">\r\n        <div\r\n          id=\"pie\"\r\n          style=\"width: 600px; height: 600px; margin: 10px auto\"\r\n        ></div>\r\n      </el-tab-pane>\r\n      <!--  本周收入折线图-->\r\n      <el-tab-pane label=\"本周收入\" name=\"line1\">\r\n        <div\r\n          id=\"weekLine\"\r\n          style=\"width: 900px; height: 500px; margin: 10px auto\"\r\n        ></div>\r\n      </el-tab-pane>\r\n      <!-- 本月收入折线图-->\r\n      <el-tab-pane label=\"本月收入\" name=\"line2\">\r\n        <div\r\n          id=\"monthLine\"\r\n          style=\"width: 1500px; height: 500px; margin: 10px auto\"\r\n        ></div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\n\r\nexport default {\r\n  name: \"IncomeChart\",\r\n  data() {\r\n    return {\r\n      sumIncome: 0,\r\n      categoryIncomes: [],\r\n      categoryNames: [],\r\n      incomes: [],\r\n      activeName: \"bar\",\r\n      totalAll: 0,\r\n      totalWeek: 0,\r\n      totalMonth: 0,\r\n      total: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    handleClick(tab) {\r\n      switch (tab.name) {\r\n        case \"bar\":\r\n          this.total = this.totalAll;\r\n          break;\r\n        case \"pie\":\r\n          this.total = this.totalAll;\r\n          break;\r\n        case \"line1\":\r\n          this.total = this.totalWeek;\r\n          break;\r\n        case \"line2\":\r\n          this.total = this.totalMonth;\r\n          break;\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    var barChart = echarts.init(document.getElementById(\"bar\"));\r\n    var pieChart = echarts.init(document.getElementById(\"pie\"));\r\n    var lineChart1 = echarts.init(document.getElementById(\"weekLine\"));\r\n    var lineChart2 = echarts.init(document.getElementById(\"monthLine\"));\r\n    var barOption = {\r\n      tooltip: {\r\n        trigger: \"item\",\r\n      },\r\n      title: {\r\n        text: \"收入统计柱状图\",\r\n        x: \"center\",\r\n      },\r\n      label: {\r\n        show: true, //是否显示\r\n        position: \"top\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        data: [],\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          data: [],\r\n          type: \"bar\",\r\n        },\r\n      ],\r\n    };\r\n    var pieOption = {\r\n      tooltip: {\r\n        trigger: \"item\",\r\n      },\r\n\r\n      title: {\r\n        text: \"收入统计饼图\",\r\n        x: \"center\",\r\n      },\r\n      series: [\r\n        {\r\n          type: \"pie\",\r\n          data: [],\r\n        },\r\n      ],\r\n    };\r\n    var lineOption1 = {\r\n      tooltip: {\r\n        trigger: \"item\",\r\n      },\r\n      label: {\r\n        show: true, //是否显示\r\n      },\r\n      title: {\r\n        text: \"本周收入\",\r\n        x: \"center\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        data: [\"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"],\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          data: [],\r\n          type: \"line\",\r\n        },\r\n      ],\r\n    };\r\n    var lineOption2 = {\r\n      tooltip: {\r\n        trigger: \"item\",\r\n      },\r\n      label: {\r\n        show: true, //是否显示\r\n      },\r\n      title: {\r\n        text: \"本月收入\",\r\n        x: \"center\",\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        data: [],\r\n      },\r\n      yAxis: {\r\n        type: \"value\",\r\n      },\r\n      series: [\r\n        {\r\n          data: [],\r\n          type: \"line\",\r\n        },\r\n      ],\r\n    };\r\n    //渲染柱状图和饼图\r\n    this.request.get(\"/api/income/chart\").then((res) => {\r\n      if (res.code === \"200\") {\r\n        let categoryIncomes = res.data.categoryIncomes;\r\n        let categoryNames = categoryIncomes.map((item) => {\r\n          return item.categoryName;\r\n        });\r\n        let incomes = categoryIncomes.map((item) => {\r\n          return item.categoryIncome;\r\n        });\r\n        barOption.xAxis.data = categoryNames;\r\n        barOption.series[0].data = incomes;\r\n        barChart.setOption(barOption);\r\n\r\n        for (let i = 0; i < categoryNames.length; i++) {\r\n          let item = { value: incomes[i], name: categoryNames[i] };\r\n          pieOption.series[0].data.push(item);\r\n        }\r\n        pieChart.setOption(pieOption);\r\n        //计算总和\r\n        let sum = 0;\r\n        incomes.forEach((item) => {\r\n          sum += item;\r\n        });\r\n        this.total = sum;\r\n        this.totalAll = sum;\r\n      }\r\n    });\r\n    //渲染本周折线图\r\n    this.request.get(\"/api/income/week\").then((res) => {\r\n      if (res.code === \"200\") {\r\n        // lineOption1.xAxis.data = res.data.weekDays;\r\n        let weekIncome = res.data.weekIncome;\r\n        lineOption1.series[0].data = weekIncome;\r\n        lineChart1.setOption(lineOption1);\r\n        //计算本周总营收\r\n        let sum = 0;\r\n        weekIncome.forEach((item) => {\r\n          sum += item;\r\n        });\r\n        this.totalWeek = sum;\r\n      }\r\n    });\r\n    //渲染本月折线图\r\n    this.request.get(\"/api/income/month\").then((res) => {\r\n      if (res.code === \"200\") {\r\n        lineOption2.xAxis.data = res.data.monthDays;\r\n        let monthIncome = res.data.monthIncome;\r\n        lineOption2.series[0].data = monthIncome;\r\n        lineChart2.setOption(lineOption2);\r\n        //计算本月总营收\r\n        let sum = 0;\r\n        monthIncome.forEach((item) => {\r\n          sum += item;\r\n        });\r\n        this.totalMonth = sum;\r\n      }\r\n    });\r\n    \r\n  },\r\n  filters: {\r\n    numFilter(value) {\r\n      // 截取当前数据到小数点后两位\r\n\r\n      let realVal = Number(value).toFixed(2);\r\n\r\n      // num.toFixed(2)获取的是字符串\r\n\r\n      return Number(realVal);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IncomeChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IncomeChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IncomeChart.vue?vue&type=template&id=154dd56c&scoped=true&\"\nimport script from \"./IncomeChart.vue?vue&type=script&lang=js&\"\nexport * from \"./IncomeChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"154dd56c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","handleClick","model","value","callback","$$v","activeName","expression","staticStyle","attrs","staticClass","_v","_s","_f","total","staticRenderFns","name","data","sumIncome","categoryIncomes","categoryNames","incomes","totalAll","totalWeek","totalMonth","methods","tab","mounted","barChart","echarts","document","getElementById","pieChart","lineChart1","lineChart2","barOption","tooltip","trigger","title","text","x","label","show","position","xAxis","type","yAxis","series","pieOption","lineOption1","lineOption2","request","get","then","res","code","item","categoryName","categoryIncome","setOption","push","forEach","sum","weekIncome","monthDays","monthIncome","filters","numFilter","Number","realVal","component"],"sourceRoot":""}