"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[244],{9244:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"50px","margin-top":"30px","font-weight":"bold","font-size":"22px",color:"#ffb02a",border:"1px lightgrey solid","border-radius":"10px",padding:"20px"},attrs:{id:"chartSum"}},[a("i",{staticClass:"iconfont icon-r-add",staticStyle:{"font-size":"32px"}}),t._v(" 总计：￥"+t._s(t._f("numFilter")(t.total)))]),a("el-tab-pane",{attrs:{label:"各类收入柱状图",name:"bar"}},[a("div",{staticStyle:{width:"1200px",height:"500px",margin:"auto auto"},attrs:{id:"bar"}})]),a("el-tab-pane",{attrs:{label:"各类收入饼图",name:"pie"}},[a("div",{staticStyle:{width:"600px",height:"600px",margin:"10px auto"},attrs:{id:"pie"}})]),a("el-tab-pane",{attrs:{label:"本周收入",name:"line1"}},[a("div",{staticStyle:{width:"900px",height:"500px",margin:"10px auto"},attrs:{id:"weekLine"}})]),a("el-tab-pane",{attrs:{label:"本月收入",name:"line2"}},[a("div",{staticStyle:{width:"1500px",height:"500px",margin:"10px auto"},attrs:{id:"monthLine"}})])],1)],1)},l=[],o=a(7991),n={name:"IncomeChart",data(){return{sumIncome:0,categoryIncomes:[],categoryNames:[],incomes:[],activeName:"bar",totalAll:0,totalWeek:0,totalMonth:0,total:0}},methods:{handleClick(t){switch(t.name){case"bar":this.total=this.totalAll;break;case"pie":this.total=this.totalAll;break;case"line1":this.total=this.totalWeek;break;case"line2":this.total=this.totalMonth;break}}},mounted(){var t=o.S1(document.getElementById("bar")),e=o.S1(document.getElementById("pie")),a=o.S1(document.getElementById("weekLine")),i=o.S1(document.getElementById("monthLine")),l={tooltip:{trigger:"item"},title:{text:"收入统计柱状图",x:"center"},label:{show:!0,position:"top"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"bar"}]},n={tooltip:{trigger:"item"},title:{text:"收入统计饼图",x:"center"},series:[{type:"pie",data:[]}]},s={tooltip:{trigger:"item"},label:{show:!0},title:{text:"本周收入",x:"center"},xAxis:{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{data:[],type:"line"}]},r={tooltip:{trigger:"item"},label:{show:!0},title:{text:"本月收入",x:"center"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"line"}]};this.request.get("/api/income/chart").then((a=>{if("200"===a.code){let i=a.data.categoryIncomes,o=i.map((t=>t.categoryName)),s=i.map((t=>t.categoryIncome));l.xAxis.data=o,l.series[0].data=s,t.setOption(l);for(let t=0;t<o.length;t++){let e={value:s[t],name:o[t]};n.series[0].data.push(e)}e.setOption(n);let r=0;s.forEach((t=>{r+=t})),this.total=r,this.totalAll=r}})),this.request.get("/api/income/week").then((t=>{if("200"===t.code){let e=t.data.weekIncome;s.series[0].data=e,a.setOption(s);let i=0;e.forEach((t=>{i+=t})),this.totalWeek=i}})),this.request.get("/api/income/month").then((t=>{if("200"===t.code){r.xAxis.data=t.data.monthDays;let e=t.data.monthIncome;r.series[0].data=e,i.setOption(r);let a=0;e.forEach((t=>{a+=t})),this.totalMonth=a}}))},filters:{numFilter(t){let e=Number(t).toFixed(2);return Number(e)}}},s=n,r=a(1001),c=(0,r.Z)(s,i,l,!1,null,"154dd56c",null),d=c.exports}}]);
//# sourceMappingURL=244.7ffecf69.js.map