"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[100],{1100:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("el-table",{staticStyle:{width:"80%",margin:"2px auto"},attrs:{data:t.tableData,border:"",stripe:""}},[i("el-table-column",{attrs:{label:"商品"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{attrs:{href:"/goodView/"+e.row.goodId}},[t._v(t._s(e.row.goodName))])]}}])}),i("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{attrs:{src:t.baseApi+e.row.img,width:"300",height:"185"}})]}}])}),i("el-table-column",{attrs:{prop:"showOrder",label:"轮播顺序"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(i){return t.edit(e.row)}}},[i("i",{staticClass:"el-icon-a-032",staticStyle:{"font-size":"22px"}}),t._v(" 编辑")]),i("el-popconfirm",{attrs:{title:"确定删除？"},on:{confirm:function(i){return t.del(e.row.id)}}},[i("el-button",{staticStyle:{"margin-left":"10px","font-size":"18px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[i("i",{staticClass:"iconfont icon-r-delete",staticStyle:{"font-size":"22px"}}),t._v(" 删除")])],1)]}}])})],1)],1),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{staticStyle:{margin:"30px",width:"150px","font-size":"20px"},attrs:{type:"primary"},on:{click:t.add}},[i("i",{staticClass:"iconfont icon-r-add"}),t._v(" 新增 ")])],1),i("el-dialog",{attrs:{title:"信息",visible:t.dialogFormVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.entity}},[i("el-form-item",{attrs:{label:"商品id","label-width":"150px"}},[i("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off"},model:{value:t.entity.goodId,callback:function(e){t.$set(t.entity,"goodId",e)},expression:"entity.goodId"}})],1),i("el-form-item",{attrs:{label:"轮播顺序","label-width":"150px"}},[i("el-select",{model:{value:t.entity.showOrder,callback:function(e){t.$set(t.entity,"showOrder",e)},expression:"entity.showOrder"}},t._l(t.tableData.length,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"font-size":"20px"},on:{click:function(e){t.dialogFormVisible=!1}}},[i("i",{staticClass:"iconfont icon-r-left",staticStyle:{"font-size":"22px"}}),t._v(" 取消")]),i("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"primary"},on:{click:t.save}},[i("i",{staticClass:"iconfont icon-r-yes",staticStyle:{"font-size":"22px"}}),t._v(" 确定")])],1)],1)],1)},a=[],o=i(5972);const l="/api/carousel/";var r={name:"Carousel",data(){return{baseApi:this.$store.state.baseApi,options:[],searchText:"",user:{},tableData:[],pageNum:1,pageSize:5,entity:{},total:0,dialogFormVisible:!1}},created(){this.load()},methods:{handleSizeChange(t){this.pageSize=t,this.load()},handleCurrentChange(t){this.pageNum=t,this.load()},load(){o.Z.get(l).then((t=>{this.tableData=t.data||[]}))},add(){this.entity={},this.tableData.length++,this.dialogFormVisible=!0},edit(t){this.entity=JSON.parse(JSON.stringify(t)),this.dialogFormVisible=!0},save(){void 0!=this.entity.goodId&&""!==this.entity.goodId?void 0!=this.entity.showOrder?o.Z.post(l,this.entity).then((t=>{"200"===t.code?(this.$message.success("保存成功"),this.load(),this.dialogFormVisible=!1):this.$message.error(t.msg)})):this.$message.error("轮播顺序不能为空"):this.$message.error("商品id不能为空")},del(t){o.Z["delete"](l+t).then((t=>{"200"===t.code?(this.$message({type:"success",message:"删除成功"}),this.load()):this.$message.error(t.msg)}))}}},n=r,d=i(1001),c=(0,d.Z)(n,s,a,!1,null,"1ad13110",null),u=c.exports}}]);
//# sourceMappingURL=100.a892f917.js.map